(()=>{"use strict";const e=e=>!e;function a(e,a,t){let o=new Date;o.setTime(o.getTime()+24*t*60*60*1e3);let r,s=e+"="+a+";",c="expires="+o.toUTCString()+";";switch(location.host){case"www.payoneer.com":case"beta.payoneer.com":case"www1.payoneer.com":r="domain=.payoneer.com;";break;case"www.payoneer.com.cn":r="domain=.payoneer.com.cn;";break;default:r=`domain=${location.host};"`}document.cookie=`${s}${c}${r}path=/; SameSite=None; Secure`}function t(e){for(var a=e+"=",t=decodeURIComponent(document.cookie).split(";"),o=0;o<t.length;o++){for(var r=t[o];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(a))return r.substring(a.length,r.length)}return""}function o(e){var a=null,t=[];return location.search.substr(1).split("&").forEach((function(o){(t=o.split("="))[0]===e&&(a=decodeURIComponent(t[1]))})),a}function r(e){return localStorage.setItem("geo_data",JSON.stringify(e)),JSON.parse(window.localStorage.getItem("geo_data"))}let s="https://www.payoneer.com.cn/";const c="https://www1.payoneer.com/";const n="9707e196-49cd-4c42-a782-929bf669ccca",i=["es","zh-hans","ja","ko","ru","th","uk","vi","ar","en-in"],A=["/raf/","/go/","/accounts/","/careers/","/resources/","/legal/","/ebay-payout/","/charts/"],l={BD:"AS",BE:"EU",BF:"AF",BG:"EU",BA:"EU",BB:"NA",WF:"OC",BL:"NA",BM:"NA",BN:"AS",BO:"SA",BH:"AS",BI:"AF",BJ:"AF",BT:"AS",JM:"NA",BV:"AN",BW:"AF",WS:"OC",BQ:"NA",BR:"SA",BS:"NA",JE:"EU",BY:"EU",BZ:"NA",RU:"EU",RW:"AF",RS:"EU",TL:"OC",RE:"AF",TM:"AS",TJ:"AS",RO:"EU",TK:"OC",GW:"AF",GU:"OC",GT:"NA",GS:"AN",GR:"EU",GQ:"AF",GP:"NA",JP:"AS",GY:"SA",GG:"EU",GF:"SA",GE:"AS",GD:"NA",GB:"EU",GA:"AF",SV:"NA",GN:"AF",GM:"AF",GL:"NA",GI:"EU",GH:"AF",OM:"AS",TN:"AF",JO:"AS",HR:"EU",HT:"NA",HU:"EU",HK:"AS",HN:"NA",HM:"AN",VE:"SA",PR:"NA",PS:"AS",PW:"OC",PT:"EU",SJ:"EU",PY:"SA",IQ:"AS",PA:"NA",PF:"OC",PG:"OC",PE:"SA",PK:"AS",PH:"AS",PN:"OC",PL:"EU",PM:"NA",ZM:"AF",EH:"AF",EE:"EU",EG:"AF",ZA:"AF",EC:"SA",IT:"EU",VN:"AS",SB:"OC",ET:"AF",SO:"AF",ZW:"AF",SA:"AS",ES:"EU",ER:"AF",ME:"EU",MD:"EU",MG:"AF",MF:"NA",MA:"AF",MC:"EU",UZ:"AS",MM:"AS",ML:"AF",MO:"AS",MN:"AS",MH:"OC",MK:"EU",MU:"AF",MT:"EU",MW:"AF",MV:"AS",MQ:"NA",MP:"OC",MS:"NA",MR:"AF",IM:"EU",UG:"AF",TZ:"AF",MY:"AS",MX:"NA",IL:"AS",FR:"EU",IO:"AS",SH:"AF",FI:"EU",FJ:"OC",FK:"SA",FM:"OC",FO:"EU",NI:"NA",NL:"EU",NO:"EU",NA:"AF",VU:"OC",NC:"OC",NE:"AF",NF:"OC",NG:"AF",NZ:"OC",NP:"AS",NR:"OC",NU:"OC",CK:"OC",XK:"EU",CI:"AF",CH:"EU",CO:"SA",CN:"AS",CM:"AF",CL:"SA",CC:"AS",CA:"NA",CG:"AF",CF:"AF",CD:"AF",CZ:"EU",CY:"EU",CX:"AS",CR:"NA",CW:"NA",CV:"AF",CU:"NA",SZ:"AF",SY:"AS",SX:"NA",KG:"AS",KE:"AF",SS:"AF",SR:"SA",KI:"OC",KH:"AS",KN:"NA",KM:"AF",ST:"AF",SK:"EU",KR:"AS",SI:"EU",KP:"AS",KW:"AS",SN:"AF",SM:"EU",SL:"AF",SC:"AF",KZ:"AS",KY:"NA",SG:"AS",SE:"EU",SD:"AF",DO:"NA",DM:"NA",DJ:"AF",DK:"EU",VG:"NA",DE:"EU",YE:"AS",DZ:"AF",US:"NA",UY:"SA",YT:"AF",UM:"OC",LB:"AS",LC:"NA",LA:"AS",TV:"OC",TW:"AS",TT:"NA",TR:"AS",LK:"AS",LI:"EU",LV:"EU",TO:"OC",LT:"EU",LU:"EU",LR:"AF",LS:"AF",TH:"AS",TF:"AN",TG:"AF",TD:"AF",TC:"NA",LY:"AF",VA:"EU",VC:"NA",AE:"AS",AD:"EU",AG:"NA",AF:"AS",AI:"NA",VI:"NA",IS:"EU",IR:"AS",AM:"AS",AL:"EU",AO:"AF",AQ:"AN",AS:"OC",AR:"SA",AU:"OC",AT:"EU",AW:"NA",IN:"AS",AX:"EU",AZ:"AS",IE:"EU",ID:"AS",UA:"EU",QA:"AS",MZ:"AF"},u="/accounts/";function d(e){if("true"!==o("disable_ot")&&"/go/"!==location.pathname){let a=!1,t=!1,o=e.toUpperCase();o in l&&"EU"===l[o]&&(a=!0),o in l&&"NA"===l[o]&&(t=!0);let r=-1!=location.hostname.indexOf(".site.")||-1!=location.hostname.indexOf(".preview.")?n+"-test":n,s=document.createElement("script"),c=document.createElement("script"),i=document.createElement("script");s.text="if (userGeoData && userGeoData.country) {var OneTrust = {geolocationResponse: {countryCode: userGeoData.country}};}",c.setAttribute("src","//cdn.cookielaw.org/consent/"+r+"/OtAutoBlock.js"),i.setAttribute("src","//cdn.cookielaw.org/scripttemplates/otSDKStub.js"),i.setAttribute("data-document-language","true"),i.setAttribute("charset","UTF-8"),i.setAttribute("data-domain-script",r),a&&t||(c.setAttribute("defer","defer"),i.setAttribute("defer","defer")),document.head.appendChild(s),document.head.appendChild(c),document.head.appendChild(i)}}window.dataLayer=window.dataLayer||[];let S=""!==t("isRefreshedGeoData");S||a("isRefreshedGeoData",!S,90);var h=JSON.parse(window.localStorage.getItem("geo_data"));window.userGeoData=h;var E=!S||!h?.country;let U=!!sessionStorage.getItem("geo_redirected");function C(e){let a,t,o,r;switch(e){case"CA":case"US":r="us";break;case"PK":r="pk";break;case"BD":a="bn",t=!0,r="bd";break;case"AT":case"BE":case"DK":case"FI":case"GR":case"IS":case"IE":case"LI":case"LU":case"MT":case"NL":case"NO":case"SE":case"GB":r="eea-1";break;case"CZ":case"HU":case"RO":case"SK":case"SI":r="eea-2";break;case"FR":a="fr",t=!0,r="eea-1";break;case"DE":a="de",t=!0,r="eea-1";break;case"PT":a="pt",t=!0,r="eea-1";break;case"XK":case"AM":case"GE":case"TJ":case"KG":case"AL":case"MK":case"EE":case"LV":case"LT":case"CY":case"BG":r="other-ru";break;case"PL":r="pl",t=!0,a="pl";break;case"ID":a="id",t=!0,r="sea";break;case"MY":case"PH":case"SG":r="sea";break;case"BH":case"KW":case"LB":case"QA":a="ar",o="Arabic";break;case"KM":case"DJ":case"IQ":case"LY":case"MR":case"OM":case"YE":case"JO":case"MA":case"TN":case"DZ":case"EG":case"SA":a="ar",o="Arabic",t=!0;break;case"TR":r="tr";break;case"AE":a="ar",r="tr",o="Arabic";break;case"AZ":case"TM":case"UZ":case"KZ":case"MD":a="ru",t=!0,o="Russian",r="other-ru";break;case"BY":a="ru",t=!0,o="Russian",r="ru";break;case"RU":a="information",t=!0,o="Russian",r="ru";break;case"BR":a="pt",t=!0,r="latam";break;case"AR":case"MX":case"CO":case"CL":case"PE":case"UY":case"CR":a="es",t=!0,o="Spanish",r="latam";break;case"ES":a="es",t=!0,o="Spanish",r="eea-1";break;case"UA":a="uk",o="Ukrainian",r="ua";break;case"CN":case"MO":a="zh-hans",t=!0,o="Chinese",r="cn";break;case"TW":case"HK":a="zh-hant",t=!0,r="cn";break;case"VN":a="vi",t=!0,o="Vietnamese",r="vi";break;case"KR":a="ko",t=!0,o="Korean",r="ko";break;case"JP":a="ja",t=!0,o="Japanese",r="jp";break;case"RS":case"HR":a="sr",t=!0,r="eea-2";break;case"BA":case"ME":a="sr",t=!0,r="other-ru";break;case"IT":a="it",t=!0,r="eea-1";break;case"AU":r="au";break;case"IN":a="in",t=!0,o="Hindi",r="in";break;case"TH":a="th",t=!0,o="Thai",r="sea";break;default:a="/",o="English",r="other"}return{country:e.toLowerCase(),folder:void 0!==a?a:"/",lang:void 0!==o?o:"English",autoRedirect:void 0!==t&&t,userChangedFolder:"",registerLink:u,plan:void 0!==r?r:"other"}}function p(e){return-1!=A.indexOf(location.pathname)||null!==o("skip_redirect")}function F(e){switch(e){case"cn":case"mo":console.log(`1- China visitor is forced to be under China domain: ${s} + ${location.search}`),location.href=s+location.search;break;case"ru":-1===location.pathname.indexOf("/information/")&&(console.log("6- Russiain visitor must be under /information/"),location.href="/information/")}}var N;-1!=location.hostname.indexOf("payoneer-china")||"www.payoneer.com.cn"===location.hostname?h=r(N={country:"china-domain",folder:"/",lang:"Chinese",autoRedirect:!1,userChangedFolder:"",registerLink:u,plan:"cn"}):E?async function(){let a=o("simulate")&&2===o("simulate").length&&o("simulate").toUpperCase();fetch("https://www.payoneer.com/ipinf").then((t=>{if(t.text(),!t.ok)throw new Error("Network response error");var o=t.headers.get("Rbz-Geo-Code");if(null!==o){let t=o,s=e(a)?C(t.replace(/[\n\r]/g,"")):C(a);if(h=r(s),window.userGeoData=h,d(h.country),dataLayer.push({event:"ipEvent",ipAddress:h.country}),console.log("["+h.country+"]"),s.autoRedirect){if(p(h.country))return;F(h.country);let e=s.folder;switch(s.userChangedFolder=e,s.folder="/",h=r(s),sessionStorage.setItem("geo_redirected",!0),console.log(`2- redirecting to defined folder/lang: ${e}`),e){case"in":case"ar":case"ru":case"es":case"uk":case"vi":case"ko":case"ja":case"th":location.href=c+e+"/"+location.search;break;default:location.href="/"+e+"/"+location.search}}return t}{console.log('The "Rbz-Geo-Code:" header does not exist.'),dataLayer.push({event:"ipEvent",ipAddress:"us"});let e=C("US");return h=r(e),window.userGeoData=h,d(h.country),"US"}})).catch((e=>{console.error("There was a problem with the fetch operation:",e),console.log("Network response issue. Setting default 'US'"),dataLayer.push({event:"ipEvent",ipAddress:"us"});let a=C("US");return h=r(a),window.userGeoData=h,d(h.country),"US"}))}():function(){if(function(){let a=o("simulate")&&2===o("simulate").length&&o("simulate").toUpperCase();e(a)||(window.localStorage.removeItem("geo_data"),location.reload()),void 0!==h.plan&&C(h.country.toUpperCase()).plan===h.plan||(N=C(h.country),h=r(N)),dataLayer.push({event:"ipEvent",ipAddress:h.country}),d(h.country)}(),p(h.country))return;if(F(h.country),function(e){switch(e){case"cn":case"mo":location.pathname.indexOf("/zh-hans/")>-1&&(console.log("3- when visitor from China (and navigating the ZH global) we force to be in China domain"),location.href=s+location.search)}}(h.country),"/"!==location.pathname)return;function a(e){sessionStorage.setItem("geo_redirected",!0);let a=location.hash.length>0?location.hash:"";if(console.log(`6- redirecting to defined langFolder: ${e} + ${a} `),void 0!==e)if("/"===e)location.href="/"+a;else if(i.includes(e)){switch(e){case"zh-hans":e="zh";break;case"uk":e="ua";break;case"en-in":e="in"}location.href=c+e+"/"+a}else location.href="/"+e+"/"+a}let t=""!==h.userChangedFolder?h.userChangedFolder:h.folder;U||(h.autoRedirect&&""===h.userChangedFolder&&a(t),document.URL.indexOf("/"+t+"/")<0&&(""!==h.userChangedFolder||h.autoRedirect&&""===document.referrer)&&a(t))}()})();